#!/bin/bash
##### UNCHANGED #####
sudo su
timedatectl set-timezone "Europe/Paris"
sed -i 's/XKBLAYOUT="us"/XKBLAYOUT="fr"/' /etc/default/keyboard

export DEBIAN_FRONTEND=noninteractive
##### UNCHANGED #####

apt-get update -y

apt install python3-pip git -y

if [ -d /home/vagrant/Osint ]; then
    echo "the directory exists"
else
    mkdir /home/vagrant/Osint
fi

apt install sublist3r -y
apt install emailharvester -y
apt install sherlock -y

pip3 install holehe
pip3 install ignorant 
pip3 install toutatis 
pip3 install sterra 
pip3 install ghunt 
pip3 install gitfive 
pip3 install h8mail 
pip3 install instaloader 
pip3 install maigret 
pip install nexfil

# RelationsFB
cd /home/vagrant/Osint/ && git clone https://github.com/Eriys/RelationsFB.git && cd RelationsFB/ && pip3 install -r requirements.txt && mv main.py RelationFB.py

# BlackBird
cd /home/vagrant/Osint/ && git clone https://github.com/p1ngul1n0/blackbird && cd blackbird && pip3 install -r requirements.txt

# o365chk
cd /home/vagrant/Osint/ && git clone https://github.com/nixintel/o365chk && cd o365chk && pip3 install -r requirements.txt

# gvision
cd /home/vagrant/Osint/ && git clone https://github.com/GONZOsint/gvision && cd gvision && pip3 install -r requirements.txt && chmod +x gvision.py

# trape
cd /home/vagrant/Osint/ && git clone https://github.com/jofpin/trape.git && cd trape && pip3 install flask-socketio -y && chmod +x trape.py

# kalitorify
cd /home/vagrant/Osint/ && git clone https://github.com/brainfucksec/kalitorify && apt-get install tor curl -y && cd /home/vagrant/Osint/kalitorify && make install && chmod +x kalitorify.sh

#RelationFB config
echo -e '#!/bin/bash \ncd /home/vagrant/Osint/RelationsFB/ \npython3 "RelationFB.py" "$@"' > RelationFB.sh
chmod +x RelationFB.sh
ln -s /home/vagrant/Osint/RelationFB.sh /usr/local/bin/RelationFB

#Gvision config
echo -e '#!/bin/bash \ncd /home/vagrant/Osint/gvision/ \nstreamlit run "gvision.py" "$@"' > gvision.sh
chmod +x gvision.sh
ln -s /home/vagrant/Osint/gvision.sh /usr/local/bin/gvision

#trape config 
echo -e '#!/bin/bash \ncd /home/vagrant/Osint/trape/ \npython3 "trape.py" "$@"' > trape.sh
chmod +x trape.sh
ln -s /home/vagrant/Osint/trape.sh /usr/local/bin/trape

#blackbird config
echo -e '#!/bin/bash \ncd /home/vagrant/Osint/blackbird/ \npython3 "blackbird.py" "$@"' > blackbird.sh
chmod +x blackbird.sh
ln -s /home/vagrant/Osint/blackbird.sh /usr/local/bin/blackbird

#o365ch config
echo -e '#!/bin/bash \ncd /home/vagrant/Osint/o365chk/ \npython3 "o365chk.py" "$@"' > o365chk.sh
chmod +x o365chk.sh
ln -s /home/vagrant/Osint/o365chk.sh /usr/local/bin/o365chk

##### UNCHANGED #####
reboot
##### UNCHANGED #####